{"mappings":";AACA,gBAAgB,OAAO,OAAO,CAAC;AAC/B,+BAA+B,EAC7B,YAA4B,EAC5B,KAA2B,EAC3B,cAA0B,EAC1B,wBAAoC,EACpC,OAAmB,EACnB,GAAG,UAAU,EACd,GAAE;IAAE,YAAY,CAAC,EAAE,mBAAoB,CAAC;IAAA,KAAK,CAAC,EAAE,MAAM,CAAC;IAAA,MAAM,CAAC,EAAE,SAAS,GAAG,OAAO,MAAM,CAAC;IAAA,KAAK,CAAC,EAAE,SAAS,GAAG,OAAO,KAAK,CAAC;IAAA,OAAO,CAAC,EAAE,SAAS,GAAG,QAAQ,CAAC;IAAC,cAAc,CAAC,EAAE,SAAS,GAAG,OAAO,OAAO,cAAc,CAAC;IAAC,wBAAwB,CAAC,EAAE,SAAS,GAAG,OAAO,OAAO,wBAAwB,CAAA;CAAO,GAAG,OAAO,OAAO,CAmE3T","sources":["weak-map/factory/weak-map/factory/index.ts","weak-map/factory/index.ts"],"sourcesContent":[null,"import { polyfillKeys as _polyfillKeys } from \"@portal-solutions/semble-common\";\ntype _Reflect = typeof Reflect;\nexport default function create({\n  polyfillKeys = _polyfillKeys,\n  symId = '__sembleWeakMap__',\n  defineProperty = undefined,\n  getOwnPropertyDescriptor = undefined,\n  Reflect = undefined,\n  ...globalThis\n}: { polyfillKeys?: typeof _polyfillKeys,symId?: string,Symbol?: undefined | typeof Symbol,Proxy?: undefined | typeof Proxy,Reflect?: undefined | _Reflect, defineProperty?: undefined | typeof Object.defineProperty, getOwnPropertyDescriptor?: undefined | typeof Object.getOwnPropertyDescriptor } = {}): typeof WeakMap {\n  return class WeakMapTemp {\n    static __symbol = \"Symbol\" in globalThis && globalThis['Symbol'] !== undefined ? globalThis.Symbol(symId) : symId;\n    static __create =\n      \"create\" in Object ? Object.create.bind(Object, null) : () => ({});\n    static {\n      let symbol = this.__symbol;\n      polyfillKeys[symbol] = true;\n      let create = this.__create;\n      for (var objectProperty of [\"seal\", \"freeze\", \"preventExtensions\"]) {\n        if (!(objectProperty in Object)) {\n          continue;\n        }\n        Object[objectProperty] =\n          \"Proxy\" in globalThis && globalThis['Proxy'] !== undefined && Reflect !== undefined\n            ? ((apply) =>\n                new globalThis.Proxy(Object[objectProperty], {\n                  apply(target, thisArg, argArray) {\n                    WeakMapTemp.__get(argArray[0]);\n                    return apply(target, thisArg, argArray);\n                  },\n                }))(Reflect.apply.bind(Reflect))\n            : ((old, b, ...args) => {\n                WeakMapTemp.__get(b);\n                return old(b, ...args);\n              }).bind(null, Object[objectProperty].bind(Object));\n      }\n    }\n    static __get(target: any): { [a: string]: any } {\n      if (getOwnPropertyDescriptor && defineProperty) {\n        const desc = getOwnPropertyDescriptor(target, this.__symbol);\n        if (desc) return desc.value;\n        const value = WeakMapTemp.__create();\n        defineProperty(target, this.__symbol, {\n          value,\n          enumerable: false,\n          writable: true,\n          configurable: false,\n        });\n        return value;\n      }\n      if (defineProperty && !(this.__symbol in target))\n        defineProperty(target, this.__symbol, {\n          value: WeakMapTemp.__create(),\n          enumerable: false,\n          writable: true,\n          configurable: false,\n        });\n      return (target[this.__symbol] ??= WeakMapTemp.__create());\n    }\n    id: string;\n    constructor() {\n      this.id = Math.random() + \"\";\n    }\n    delete(object) {\n      delete WeakMapTemp.__get(object)[this.id];\n    }\n    has(object) {\n      return this.id in WeakMapTemp.__get(object);\n    }\n    get(object) {\n      return WeakMapTemp.__get(object)[this.id];\n    }\n    set(object, value) {\n      WeakMapTemp.__get(object)[this.id] = value;\n    }\n  } as any;\n}\n"],"names":[],"version":3,"file":"index.d.ts.map"}